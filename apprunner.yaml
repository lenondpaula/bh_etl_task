version: 0.1
runtime: python3

build:
  commands:
    - pip install --upgrade pip
    - pip install -r requirements.txt

startCommand: streamlit run app.py --server.port 8501 --server.address 0.0.0.0

ports:
  - 8501

environment:
  - name: STREAMLIT_SERVER_HEADLESS
    value: "true"
  - name: STREAMLIT_SERVER_PORT
    value: "8501"

# Notes:
# - This configuration instructs App Runner to build the app from source using
#   the Python runtime and to run Streamlit on port 8501.
# - If build fails due to system-level geospatial dependencies (GDAL/proj),
#   prefer the Docker/ECR flow (the repository already contains a Dockerfile).